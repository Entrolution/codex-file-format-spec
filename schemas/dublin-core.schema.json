{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://codex.document/schemas/dublin-core.schema.json",
  "title": "Dublin Core Metadata",
  "description": "Schema for Dublin Core metadata in a Codex document",
  "type": "object",
  "required": ["version", "terms"],
  "properties": {
    "version": {
      "type": "string",
      "description": "Dublin Core schema version",
      "pattern": "^\\d+\\.\\d+$"
    },
    "terms": {
      "type": "object",
      "required": ["title", "creator"],
      "properties": {
        "title": {
          "type": "string",
          "minLength": 1,
          "description": "Document title"
        },
        "creator": {
          "oneOf": [
            { "type": "string", "minLength": 1 },
            { "type": "array", "items": { "type": "string" }, "minItems": 1 }
          ],
          "description": "Primary author(s) - simple string names for Dublin Core compatibility"
        },
        "creators": {
          "type": "array",
          "description": "Structured author data with ORCID and affiliation support",
          "items": { "$ref": "#/$defs/creatorObject" },
          "minItems": 1
        },
        "subject": {
          "oneOf": [
            { "type": "string" },
            { "type": "array", "items": { "type": "string" } }
          ],
          "description": "Topics or keywords"
        },
        "description": {
          "type": "string",
          "description": "Summary or abstract"
        },
        "publisher": {
          "type": "string",
          "description": "Publishing entity"
        },
        "contributor": {
          "oneOf": [
            { "type": "string" },
            { "type": "array", "items": { "type": "string" } }
          ],
          "description": "Other contributors"
        },
        "date": {
          "type": "string",
          "description": "Publication date (ISO 8601)"
        },
        "type": {
          "type": "string",
          "description": "Nature of content",
          "enum": [
            "Collection",
            "Dataset",
            "Event",
            "Image",
            "InteractiveResource",
            "MovingImage",
            "PhysicalObject",
            "Service",
            "Software",
            "Sound",
            "StillImage",
            "Text"
          ]
        },
        "format": {
          "type": "string",
          "description": "MIME type"
        },
        "identifier": {
          "type": "string",
          "description": "Unique identifier"
        },
        "source": {
          "type": ["string", "null"],
          "description": "Source reference"
        },
        "language": {
          "oneOf": [
            { "type": "string" },
            { "type": "array", "items": { "type": "string" } }
          ],
          "description": "Language code (BCP 47)"
        },
        "relation": {
          "type": ["string", "null"],
          "description": "Related resource"
        },
        "coverage": {
          "type": "string",
          "description": "Temporal or spatial scope"
        },
        "rights": {
          "oneOf": [
            { "type": "string" },
            { "$ref": "#/$defs/rightsObject" }
          ],
          "description": "Rights statement"
        }
      }
    }
  },
  "$defs": {
    "rightsObject": {
      "type": "object",
      "properties": {
        "statement": {
          "type": "string",
          "description": "Copyright statement"
        },
        "license": {
          "type": "string",
          "description": "License name"
        },
        "licenseUrl": {
          "type": "string",
          "format": "uri",
          "description": "License URL"
        }
      }
    },
    "creatorObject": {
      "type": "object",
      "description": "Structured creator/author information",
      "required": ["name"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Full name of the creator",
          "minLength": 1
        },
        "orcid": {
          "type": "string",
          "description": "ORCID identifier (e.g., '0000-0001-2345-6789')",
          "pattern": "^[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{3}[0-9X]$"
        },
        "affiliation": {
          "type": "string",
          "description": "Institutional affiliation"
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "Contact email address"
        }
      }
    }
  }
}
